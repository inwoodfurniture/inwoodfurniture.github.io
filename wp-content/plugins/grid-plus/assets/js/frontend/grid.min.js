var GridPlus=GridPlus||{};!function(t){"use strict";GridPlus={vars:{grid_on_ajax:!1},init:function(){GridPlus.galleries=[],GridPlus.items=[],GridPlus.pagings=[],GridPlus.initGrid(),GridPlus.initCarousel(),GridPlus.execCategoryFilter(),GridPlus.initCateExpanded(),GridPlus.initFilterByCategory(),GridPlus.initPaging(),GridPlus.initWindowScroll(),GridPlus.initViewGallery(),GridPlus.initAddToCartAjax()},initGrid:function(a){void 0===a&&(a=t("body")),t(".grid-stack-container",a).each(function(){var a=t(this).attr("data-section-id"),i=t(this).attr("data-gutter"),e=t("#"+a),r=t(this).attr("data-fix-item-height"),s=t(this).attr("data-layout-type"),d=t(".grid-stack",e),n=t(".grid-stack-container",e),o=n.attr("data-height-ratio"),l=n.attr("data-width-ratio"),c=parseInt(n.attr("data-columns")),g=t(".grid-items .post-item",e),h="grid"==s?0:10,u=[],p=null,m=null,f=null,v=null,y=null,w=0,x=0,G=0,P=0,k=0,C=0,I=e.width(),b=Math.ceil(I/c),T=0,j={cellHeight:h,verticalMargin:i,animate:!0,acceptWidgets:!0,removable:!1,disableDrag:!0,disableResize:!0};t(".grid-items .item",e).each(function(a){u.push({x:t(this).attr("data-gs-x"),y:t(this).attr("data-gs-y"),width:t(this).attr("data-gs-width"),height:t(this).attr("data-gs-height"),desktop_x:t(this).attr("data-desktop-gs-x"),desktop_y:t(this).attr("data-desktop-gs-y"),desktop_width:t(this).attr("data-desktop-gs-width"),desktop_height:t(this).attr("data-desktop-gs-height"),image_height:t(this).attr("data-image-height"),image_width:t(this).attr("data-image-width")})}),d.attr("data-gutter","gutter-"+i),d.gridstack(j),m=d.data("gridstack"),_.each(u,function(a){if(p=m.addWidget(t('<div><div class="grid-stack-item-content" /><div/>'),a.x,a.y,a.width,a.height),t(p).attr("data-desktop-gs-x",a.desktop_x),t(p).attr("data-desktop-gs-y",a.desktop_y),t(p).attr("data-desktop-gs-width",a.desktop_width),t(p).attr("data-desktop-gs-height",a.desktop_height),t(p).attr("data-image-height",a.image_height),t(p).attr("data-image-width",a.image_width),(f=t(".grid-stack-item-content",p)).append(g[w++]),w==g.length&&(w=0),v=t(".thumbnail-image",f),void 0!==(y=v.attr("data-img"))&&null!=y&&""!=y&&(v.css("background-image","url("+y+")"),t("img",v).remove()),b=t(".post-item",this).outerWidth(!0),"grid"==s){if("true"==r){i=t(".post-item",f).attr("data-post-info-class");x=t(".post-item ."+i,f).outerHeight(!0)}T=Math.floor(b*(o/l)),v.css("height",T+"px")}else if("1"==t(".post-item",f).attr("data-thumbnail-only"))P=parseInt(t(p).attr("data-image-width")),k=parseInt(t(p).attr("data-image-height")),C=G=0,P>=b&&(C=P/b,G=Math.floor(k/C)),G>0?(v.css("height",G+"px"),t(".post-item",f).css("height",G+"px")):(v.css("height","100%"),t(".post-item",f).css("height","100%"));else{if("true"==r){var i=t(".post-item",f).attr("data-post-info-class");x=t(".post-item ."+i,f).outerHeight(!0)}P=parseInt(t(p).attr("data-image-width")),k=parseInt(t(p).attr("data-image-height")),C=G=0,P>=b&&(C=P/b,G=Math.floor(k/C)),G>0?v.css("height",G+"px"):v.css("height",10*a.height-x+"px"),t(".post-item",f).css("height","auto")}},this),GridPlus.responsive(function(){e.trigger("gridInitCompleted"),setTimeout(function(){GridPlus.itemAnimation(e)},300)})})},initCarousel:function(a){void 0===a&&(a=t("body")),t(".grid-owl-carousel",a).each(function(){var a=t(this),i={items:4,nav:!1,navText:['<i class="fa fa-angle-left"></i> ',' <i class="fa fa-angle-right"></i>'],dots:!1,loop:!0,center:!1,mouseDrag:!0,touchDrag:!0,pullDrag:!0,freeDrag:!1,margin:0,stagePadding:0,merge:!1,mergeFit:!0,autoWidth:!1,startPosition:0,rtl:!1,smartSpeed:250,autoplay:!1,autoplayTimeout:0,fluidSpeed:!1,dragEndSpeed:!1,autoplayHoverPause:!0,onResized:GridPlus.initResizeCarousel,onInitialized:GridPlus.initCarouselInitialized},e=a.data("nav-next-text"),r=a.data("nav-prev-text");void 0!==e&&void 0!==r&&(i.navText=[r,e]);var s=t.extend({},i,a.data("owl-options"));a.gridOwlCarousel(s)}),t(".carousel-container",a).each(function(){var a=t(this),i=a.parent().attr("data-animation"),e=a.attr("data-height-ratio"),r=a.attr("data-width-ratio"),s=[];t(".item",a).each(function(){var a,i=t(".thumbnail-image",t(this)),d=i.attr("data-img"),n=parseInt(i.width());t("img",i).length>0&&t("img",i).remove(),void 0!==d&&""!=d&&i.css("background-image","url("+d+")"),a=Math.floor(parseInt(e)/parseInt(r)*n),i.css("height",a+"px"),s.push(t(this))});for(var d=0;d<s.length;d++)!function(a){var e=100*d;setTimeout(function(){t(s[a]).addClass("animated "+i),t(s[a]).css("opacity",1)},e)}(d)})},itemAnimation:function(a){for(var i=t(".grid-stack-item-content",a),e=a.attr("data-animation"),r=0;r<i.length;r++)GridPlus.isAppear(i[r])?function(s){var d=100*r;setTimeout(function(){t(i[s]).addClass("animated "+e),t(i[s]).addClass("infinited"),t(i[s]).css("opacity",1),s+1==i.length&&a.trigger("itemAnimationCompleted")},d)}(r):(t(i[r]).addClass("has-infinite"),t(i[r]).attr("data-animation",e))},initResize:function(a,i){var e=[],r="",s=0,d=0,n=0,o=0,l=t(".grid-stack-container",a).attr("data-gutter"),c=0,g=0,h=t(".grid-stack-container",a).attr("data-height-ratio"),u=t(".grid-stack-container",a).attr("data-width-ratio");t(".grid-stack-item",a).each(function(){r=t(this).attr("data-gs-y"),d=0,"1"==t(".post-item",this).attr("data-thumbnail-only")?(c=t(".post-item",this).outerWidth(!1),g=Math.floor(c*(h/u)),t(".post-item",this).css("height",g+"px"),t(".post-item > div",this).css("height",g+"px")):g=t(".post-item",this).outerHeight(!0),t(".grid-stack",a).hasClass("grid-stack-one-column-mode")?(n+=parseInt(s)+parseInt(l),s=g,o+=parseInt(g)+parseInt(l),n+=parseInt(s)+parseInt(l),t('.grid-stack-item[data-gs-y="'+r+'"]',a).css("height",g+"px"),isNaN(n)||t('.grid-stack-item[data-gs-y="'+r+'"]',a).css("top",n)):-1==_.indexOf(e,r)&&(t('.grid-stack-item[data-gs-y="'+r+'"]',a).each(function(){g>d&&(d=g)}),e.push(r),e.length>1&&(n+=parseInt(s)+parseInt(l)),s=d,o+=parseInt(d)+parseInt(l),t('.grid-stack-item[data-gs-y="'+r+'"]',a).css("height",d+"px"),isNaN(n)||t('.grid-stack-item[data-gs-y="'+r+'"]',a).css("top",n))}),isNaN(o)||t(".grid-stack",a).css("height",o),i&&i(a)},initResizeMasonry:function(a,i,e){for(var r=0,s=0,d=0,n=0,o=0,l=0,c=0,g=0,h=1,u=parseInt(t(".grid-stack-container",a).attr("data-gutter")),p=parseInt(t(".grid-stack-container",a).attr("data-columns")),m=t(".grid-stack",a).width(),f={},v=0,y=Math.ceil(m/p),w=1;w<=p;w++)f["col_"+w]={height:0};i=void 0!==i&&i,t(".grid-stack-item",a).each(function(){r=parseInt(t(this).attr("data-gs-y")),s=parseInt(t(this).attr("data-gs-x")),d=parseInt(t(this).attr("data-gs-width")),n=parseInt(t(this).attr("data-gs-height")),o=parseInt(t(".post-item",this).outerHeight(!0)),t(this).css("height",o),v=0;for(var a=1;a<=p;a++){if(0==f["col_"+a].height){h=a,v=0,c=0;break}(0==v||v>f["col_"+a].height)&&(v=f["col_"+a].height,h=a)}l=v,c=(h-1)*y,f["col_"+h].height=f["col_"+h].height+o+u,t(this).css("top",l),t(this).css("left",c),l+o+u>g&&(g=l+o+u)}),isNaN(g)||t(".grid-stack",a).css("height",g),e&&e(a)},initResizeCarousel:function(){t(".carousel-container").each(function(){var a=t(this),i=a.attr("data-height-ratio"),e=a.attr("data-width-ratio");t(".item",a).each(function(){var a,r=t(".thumbnail-image",t(this)),s=parseInt(r.width());a=Math.floor(parseInt(i)/parseInt(e)*s),r.css("height",a+"px")})})},initCarouselInitialized:function(a){t(".carousel-items",a.target).css("min-height","auto")},find:function(t,a,i){_.find(t,function(t){return t.x==a&&t.y==i})},findPreviousNode:function(t,a,i,e){for(var r=0,s=null,d=0;d<t.length;d++)t[d].y<i&&(t[d].x>a&&t[d].x>=a+e||t[d].x<a&&t[d].x+t[d].gs_width<=a||t[d].height+t[d].top>r&&(r=t[d].height+t[d].top,s=t[d]));return s},responsive:function(a){t(".grid-plus-container").each(function(){var i=t(this),e=t(".grid-stack-container",i),r=e.attr("data-layout-type"),s=1,d=0,n=[];void 0!==r&&(window.matchMedia("(min-width: 992px)").matches?(e.attr("data-columns",e.attr("data-desktop-columns")),t(".grid-stack-item",i).each(function(){t(this).attr("data-gs-y",t(this).attr("data-desktop-gs-y")),t(this).attr("data-gs-x",t(this).attr("data-desktop-gs-x")),t(this).attr("data-gs-width",t(this).attr("data-desktop-gs-width")),t(this).attr("data-gs-height",t(this).attr("data-desktop-gs-height"))})):window.matchMedia("(min-width: 600px)").matches?(t(".grid-stack",i).removeClass("grid-stack-one-column-mode"),e.attr("data-columns",e.attr("data-tablet-columns")),t(".grid-stack-item",i).each(function(){t(this).attr("data-gs-width","6"),s%2==0&&(t(this).attr("data-gs-x","6"),void 0!==n[s-3]&&t(this).attr("data-gs-y",n[s-3])),s%2==1&&(t(this).attr("data-gs-x","0"),void 0!==n[s-2]&&t(this).attr("data-gs-y",n[s-2])),d=parseInt(t(this).attr("data-gs-y"))+parseInt(t(this).attr("data-gs-height")),n.push(d),s++})):(t(".grid-stack",i).hasClass("grid-stack-one-column-mode")||t(".grid-stack",i).addClass("grid-stack-one-column-mode"),e.attr("data-columns",e.attr("data-mobile-columns"))),setTimeout(function(){"metro"!=r&&("masonry"==r?GridPlus.initResizeMasonry(i,!0,a):GridPlus.initResize(i,a))},300))})},initCateExpanded:function(){t(document).on("click",function(a){var i=!1;t(a.target).closest(".grid-cate-expanded").length>0&&t(a.target).hasClass("grid-dropdown-toggle")&&t(a.target).closest(".grid-cate-expanded").find(".grid-dropdown-menu").hasClass("active")&&(i=!0),t(".grid-dropdown-menu",".grid-cate-expanded").removeClass("active"),i||t(a.target).closest(".grid-cate-expanded").find(".grid-dropdown-menu").addClass("active")})},initFilterByCategory:function(){t("a",".grid-category").off("click").on("click",function(){if(!GridPlus.vars.grid_on_ajax&&!t(this).hasClass("active")){GridPlus.vars.grid_on_ajax=!0;var a=t(this).closest(".grid-plus-inner"),i=a.attr("data-section-id"),e=a.attr("data-layout-type"),r=a.attr("data-ajax-url"),s=a.attr("data-nonce"),d=t(this).attr("data-category");"carousel"==e?GridPlus.filterCarousel(this,i,r,d,1,s):GridPlus.filter(this,i,r,d,1,1,s),t(".grid-category a",a).removeClass("active"),t(this).addClass("active")}})},filter:function(a,i,e,r,s,d,n){var o=t("#"+i),l=o.attr("data-grid-name"),c=null,g=t(a),h="",u=null,p=null,m="";d=void 0!==d?d:1,g.closest(".grid-cate-expanded").length>0&&g.closest(".grid-cate-expanded").children("ul").addClass("active"),g.hasClass("ladda-button")&&(c=Ladda.create(a)).start(),h=i+"_"+r+"_"+(s=void 0!==s?s:1),void 0===GridPlus.items[h]?t.ajax({url:e,type:"POST",data:{action:"grid_plus_load_by_category",category_id:r,current_page:s,grid_name:l,nonce:n},success:function(a){null!=c&&c.stop(),u=t(".grid-items .item",a),GridPlus.items[h]=u.clone(!0),t('div[data-section-id="'+i+'"]').attr("data-current-category",r),3==d||4==d?(p=3==d?t("a.load-more",a):t("a.infinite-scroll",a),m=3==d?".grid-load-more-wrap":".grid-infinite-scroll-wrap",GridPlus.pagings[h]=p.clone(!0),GridPlus.appendItem(o,u,p,m)):((p=t(".grid-paging-navigation",a)).length<=0&&(t("a.load-more",a).length>0&&(p=t("a.load-more",a)),t("a.infinite-scroll",a).length>0&&(p=t("a.infinite-scroll",a))),GridPlus.pagings[h]=p.clone(!0),GridPlus.bindItem(o,u,p,d)),GridPlus.initViewGallery(o),GridPlus.initAddToCartAjax(o),GridPlus.vars.grid_on_ajax=!1,g.closest(".grid-cate-expanded").length>0&&g.closest(".grid-cate-expanded").children("ul").removeClass("active")},error:function(){return null!=c&&c.stop(),GridPlus.vars.grid_on_ajax=!1,g.closest(".grid-cate-expanded").length>0&&g.closest(".grid-cate-expanded").children("ul").removeClass("active"),!1}}):(null!=c&&c.stop(),t('div[data-section-id="'+i+'"]').attr("data-current-category",r),u=GridPlus.items[h].clone(!0),3==d||4==d?(p=GridPlus.pagings[h].clone(!0),m=3==d?".grid-load-more-wrap":".grid-infinite-scroll-wrap",GridPlus.appendItem(o,u,p,m)):(p=GridPlus.pagings[h].clone(!0),GridPlus.bindItem(o,u,p,d)),GridPlus.initViewGallery(o),GridPlus.initAddToCartAjax(o),GridPlus.vars.grid_on_ajax=!1,g.closest(".grid-cate-expanded").length>0&&g.closest(".grid-cate-expanded").children("ul").removeClass("active"))},filterCarousel:function(a,i,e,r,s,d){var n=t("#"+i),o=n.attr("data-grid-name"),l=null,c=t(a),g=i+"_"+r,h=null;c.hasClass("ladda-button")&&(l=Ladda.create(a)).start(),void 0===GridPlus.items[g]?t.ajax({url:e,type:"POST",data:{action:"grid_plus_load_by_category",category_id:r,current_page:1,grid_name:o,nonce:d},success:function(a){null!=l&&l.stop(),h=t(".carousel-items .item",a),GridPlus.items[g]=h.clone(!0),t('div[data-section-id="'+i+'"]').attr("data-current-category",r),GridPlus.bindItemCarousel(n,h,s),GridPlus.initViewGallery(n),GridPlus.initAddToCartAjax(n),GridPlus.vars.grid_on_ajax=!1},error:function(){null!=l&&l.stop(),GridPlus.vars.grid_on_ajax=!1}}):(null!=l&&l.stop(),t('div[data-section-id="'+i+'"]').attr("data-current-category",r),h=GridPlus.items[g].clone(!0),GridPlus.bindItemCarousel(n,h,s),GridPlus.initViewGallery(n),GridPlus.initAddToCartAjax(n),GridPlus.vars.grid_on_ajax=!1)},bindItem:function(a,i,e,r){if(void 0!==t(".grid-stack",a).data("gridstack")&&t(".grid-stack",a).data("gridstack").destroy(!1),t(".grid-stack",a).empty(),t(".grid-items",a).empty(),t(".grid-items",a).append(i),GridPlus.initGrid(a),t(".grid-paging-navigation-wrap .grid-paging-navigation",a).empty(),t(".grid-load-more-wrap",a).empty(),t(".grid-infinite-scroll-wrap",a).empty(),1==r||2==r){var s=a.offset().top;t("#wpadminbar").length>0&&(s-=t("#wpadminbar").outerHeight(!0)),t("html,body").animate({scrollTop:s+"px"},500)}e.length>0&&setTimeout(function(){t(".grid-paging-navigation-wrap",a).length>0?(t(".grid-paging-navigation-wrap .grid-paging-navigation",a).append(e.children()),t(".grid-paging-navigation-wrap",a).fadeIn()):t(".grid-load-more-wrap",a).length>0?t(".grid-load-more-wrap",a).append(e):t(".grid-infinite-scroll-wrap",a).length>0&&t(".grid-infinite-scroll-wrap",a).append(e),GridPlus.initPaging(a)},100)},appendItem:function(a,i,e,r){var s=t(".grid-stack-item",a).length,d=t(".grid-items .item",a),n=d.length,o=0,l=0,c=0,g=0,h=0,u=0,p=0;s<n&&(o=n-s),t(".grid-stack-item",a).each(function(){parseInt(t(this).attr("data-gs-y"))+parseInt(t(this).attr("data-gs-height"))>p&&(p=parseInt(t(this).attr("data-gs-y"))+parseInt(t(this).attr("data-gs-height")))});for(var m=o;m<n;m++)m==n&&l<=i.length&&(m=0),c=parseInt(t(d[m]).attr("data-gs-y"))+p,g=parseInt(t(d[m]).attr("data-gs-x")),h=parseInt(t(d[m]).attr("data-gs-width")),u=parseInt(t(d[m]).attr("data-gs-height")),t(i[l]).attr("data-gs-y",c),t(i[l]).attr("data-gs-x",g),t(i[l]).attr("data-gs-width",h),t(i[l]).attr("data-gs-height",u),t(i[l]).attr("data-desktop-gs-y",c),t(i[l]).attr("data-desktop-gs-x",g),t(i[l]).attr("data-desktop-gs-width",h),t(i[l]).attr("data-desktop-gs-height",u),l++;t(".grid-items",a).empty(),t(".grid-items",a).append(i),GridPlus.initGrid(a),t(r,a).empty(),e.length>0&&(t(r,a).append(e),GridPlus.initPaging(a))},bindItemCarousel:function(a,i,e){var r=t(".carousel-items",a).height();t(".carousel-items",a).trigger("destroy.owl.carousel"),t(".carousel-items",a).css("min-height",r+"px"),t(".carousel-items",a).empty(),t(".carousel-items",a).append(i),GridPlus.initCarousel(a);var s=a.offset().top;t("#wpadminbar").length>0&&(s-=t("#wpadminbar").outerHeight(!0)),t("html,body").animate({scrollTop:s+"px"},500)},initPaging:function(a){void 0===a&&(a=t("body")),t("a.page-numbers",a).each(function(){var a=t(this);a.removeClass("ladda-button").addClass("ladda-button"),a.attr("data-style","zoom-in"),a.attr("data-spinner-color","#868686"),a.attr("data-spinner-size","20")}),t("a.page-numbers, .grid-load-more-wrap a.load-more, .grid-infinite-scroll-wrap a.infinite-scroll",a).off("click").on("click",function(a){if(!GridPlus.vars.grid_on_ajax){GridPlus.vars.grid_on_ajax=!0;var i=t(this).parent().attr("data-section-id"),e=t('div[data-section-id="'+i+'"]'),r=e.attr("data-current-category"),s=e.attr("data-ajax-url"),d=e.attr("data-nonce"),n=t(this).attr("href"),o=1,l=2;return t(this).hasClass("page-numbers")?o=GridPlus.getPageNumberFromHref(n):t(this).hasClass("load-more")?(o=t(this).attr("data-next-page"),l=3):t(this).hasClass("infinite-scroll")&&(o=t(this).attr("data-next-page"),l=4),GridPlus.filter(this,i,s,r,o,l,d),a.preventDefault(),!1}})},initInfiniteScroll:function(){var a,i,e=t(window).scrollTop(),r=e+t(window).height();t(".grid-infinite-scroll-wrap a.infinite-scroll:not(.infinited)").each(function(){a=t(this).offset().top,(i=a+t(this).height())<=r&&a>=e&&(t(this).addClass("infinited"),t(this).trigger("click"))})},initAppearScroll:function(){t(window).scrollTop(),t(window).height();var a,i="fadeInUp";a=[],t(".grid-stack-item-content.has-infinite:not(.infinited)").each(function(){GridPlus.isAppear(this)&&(t(this).addClass("infinited"),a.push(t(this)))});for(var e=0;e<a.length;e++)!function(r){var s=100*e;setTimeout(function(){i=t(a[r]).attr("data-animation"),t(a[r]).addClass("animated "+i),t(a[r]).removeClass("has-infinite"),t(a[r]).css("opacity",1)},s)}(e)},initWindowScroll:function(){t(window).scroll(function(){GridPlus.initInfiniteScroll(),GridPlus.initAppearScroll()})},isAppear:function(a,i){var e=t(window).scrollTop(),r=e+t(window).height(),s=t(a).height(),d=t(a).offset().top,n=d+s,o=n-r;return(void 0===i||isNaN(i))&&(i=.8),(o<=0||o<=s*i)&&(d>=e||r>n)},initViewGallery:function(a){var i="";void 0===a?(a=t("body"),i=t(".grid-plus-container.attachment",a)):i=a,a.hasClass("attachment")||t("a.view-gallery",a).off("click").on("click",function(a){a.preventDefault();var i=t(this).closest(".post-item").addClass("active"),e=t(this).attr("data-post-id"),r=t(this),s=r.attr("data-ajax-url"),d=t("i",r).attr("class"),n=null;t("i",r).attr("class","fa fa-spinner fa-spin"),void 0===GridPlus.galleries[e]?t.ajax({url:s,type:"GET",data:{action:"grid_plus_load_gallery",post_id:e},success:function(a){t("i",r).attr("class",d);var s=JSON.parse(a);void 0!==s&&t.isArray(s)&&s.length>0&&(n=t(this).lightGallery({dynamic:!0,dynamicEl:s,hash:!1,download:!0}),GridPlus.light_gallery_after_open(n),GridPlus.galleries[e]=JSON.parse(a)),i.removeClass("active")},error:function(){t("i",r).attr("class",d),i.removeClass("active")}}):(n=t(this).lightGallery({dynamic:!0,dynamicEl:GridPlus.galleries[e],hash:!1,download:!0}),GridPlus.light_gallery_after_open(n),i.removeClass("active"),t("i",r).attr("class",d))}),i.hasClass("attachment")&&i.each(function(){var a="#"+t(this).attr("id"),i="",e=[];t("a.view-gallery",a).off("click").on("click",function(){var r=t(this),s=t("i",r).attr("class"),d=r.attr("data-src"),n=0;if(t("i",r).attr("class","fa fa-spinner fa-spin"),t("a.view-gallery",a).each(function(){void 0!==(i=t(this).attr("data-src"))&&""!=i&&(d==i&&(n=e.length),e.push({subHtml:"",thumb:i,src:i}))}),e.length>0){var o=r.lightGallery({dynamic:!0,dynamicEl:e,hash:!1,download:!0,index:n});GridPlus.light_gallery_after_open(o)}setTimeout(function(){t("i",r).attr("class",s)},200)})})},light_gallery_after_open:function(a){a.on("onAfterOpen.lg",function(a,i){t(".lg-thumb-outer").css("opacity","0"),setTimeout(function(){t(".lg-has-thumb").removeClass("lg-thumb-open"),t(".lg-thumb-outer").css("opacity","1")},700)})},getPageNumberFromHref:function(t){var a="",i=/paged=\d+/gi;return new RegExp(i).test(t)?a=new RegExp(i).exec(t):(i=/page\/\d+/gi,a=new RegExp(i).test(t)?new RegExp(i).exec(t):a),i=/\d+/g,new RegExp(i).test(a)?new RegExp(i).exec(a)[0]:1},initAddToCartAjax:function(a){void 0===a&&(a=t("body")),t("a.add-to-cart:not(.added-to-cart)",a).off("click").on("click",function(a){a.preventDefault();var i=t(this),e=i.closest(".post-item").addClass("active"),r=i.attr("data-cart_url"),s=i.attr("data-cart_redirect_after_add"),d=i.attr("data-icon_added_to_cart"),n={},o=i.prop("href").replace("%%endpoint%%","add_to_cart"),l=null;i.hasClass("ladda-button")&&(l=Ladda.create(this)).start(),t.each(i.data(),function(t,a){n[t]=a}),t.ajax({url:o,type:"POST",data:n,success:function(a){null!=l&&l.stop(),a.error&&a.product_url?window.location=a.product_url:"yes"!==s?(void 0!==d&&""!=d&&(t("i",i).removeClass(),t("i",i).addClass(d)),i.addClass("added-to-cart"),i.off("click"),i.attr("href",r),e.removeClass("active"),t(document.body).trigger("added_to_cart",[a.fragments,a.cart_hash,i])):window.location=r},error:function(){null!=l&&l.stop(),e.removeClass("active")}})})},execCategoryFilter:function(){t(".grid-category").each(function(){if(!t(this).closest(".grid-plus-container").hasClass("grid-cate-multi-line")){var a=t(this).removeClass("hidden"),i=a.closest(".grid-plus-container").width(),e=a.find(".grid-cate-expanded").removeClass("hidden"),r=!1,s=50;e.find("li a").each(function(){var a=t(this).closest("li");t(this).detach().insertBefore(e),a.remove()}),a.children("a").each(function(){var a=t(this);r?(e.find("ul").append("<li>"+a[0].outerHTML+"</li>"),a.remove()):s+a.outerWidth()>i?(r=!0,e.find("ul").append("<li>"+a[0].outerHTML+"</li>"),a.remove()):s+=a.outerWidth()+6}),e.find("li a").length>0?e.removeClass("hidden"):e.addClass("hidden"),GridPlus.initFilterByCategory()}})}},t(document).ready(function(){GridPlus.init()});var a;t(window).resize(function(){clearTimeout(a),a=setTimeout(function(){GridPlus.responsive()},100),setTimeout(function(){GridPlus.execCategoryFilter()},20)})}(jQuery);